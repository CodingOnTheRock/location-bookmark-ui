<div class="container">
  <header>
    <app-toolbar 
      [icon]="state.ui.toolbar.icon"
      [title]="state.ui.toolbar.title"
      [isIconActive]="state.ui.toolbar.isIconActive"
      [username]="base.profile.name"
      (onIconClick)="onToolbarIconClick($event)"
      (onAvatarClick)="onToolbarAvatarClick()"
      (onAvatarMouseEnterLeave)="onToolbarAvatarMouseEnterLeave($event)"></app-toolbar>
  </header>
  <div class="menu">
    <div mdTooltip="Menu">
      <md-icon class="material-icons menu-icon" (click)="onMenuClick()">menu</md-icon>
    </div>
  </div>
  <aside *ngIf="state.ui.toolbar.isIconActive" [@slideLTR]>
    <app-search-box 
      [bookmarks]="this.state.ui.searchBox.bookmarks"
      (onFilter)="onSearchBoxFilter($event)"
      (onSelect)="onSearchBoxSelect($event)">
    </app-search-box>
    <app-bookmark-list 
      [bookmarks]="this.state.ui.bookmarkList.bookmarks"
      (onBookmarkItemCoordsClick)="onBookmarkListCoordsClick($event)">
    </app-bookmark-list>
  </aside>
  <section class="account-info" *ngIf="state.ui.accountInfo.isShow" [@fade]>
    <app-account-info 
      [firstname]="base.profile.firstname"
      [lastname]="base.profile.lastname"
      [email]="base.profile.email"
      (onAccountClick)="onAccountInfoAccountClick()"
      (onSignOutClick)="onAccountInfoSignOutClick()">
    </app-account-info>
  </section>
  <section class="map">
    <app-map 
      [zoom]="state.ui.map.zoom"
      [coords]="state.ui.map.coords"
      [markers]="state.ui.map.markers"
      [showOverlay]="state.ui.toolbar.isIconActive"
      (onFocus)="onMapFocus()"
      (onLostFocus)="onMapLostFocus()"
      (onRightClick)="onMapRightClick($event)"
      (onCenterChange)="onMapCenterChange($event)"
      (onNewMarkerInfoWindowClose)="onNewMarkerInfoWindowClose($event)"
      (onMarkerSave)="onMarkerSave($event)"
      (onMarkerUpdate)="onMarkerUpdate($event)"
      (onMarkerDelete)="onMarkerDelete($event)"></app-map>
  </section>
</div>